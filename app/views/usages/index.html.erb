<p id="notice"><%= notice %></p>

<div class="container">
  <h1>Usages</h1>
</div>

<table class="container table table-striped shadow-lg">
  <thead>
    <tr>
      <th>Admin id</th>
      <th>Units Consumed</th>
      <th>Total Units</th>
      <th>Exceeded Units</th>
      <th>Plan id</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody id="plansTable w-30">
    <% @usages.each do |usage| %>
      <tr id="planRow_<%=usage.id %>">
        <td><%= usage.user_id %></td>
        <td><%= usage.unit_consumed %></td>
        <td><%= usage&.feature.max_unit_limit %></td>
        <td>
          <% if usage.unit_consumed > usage.feature.max_unit_limit %>
            <%=usage.unit_consumed - usage.feature.max_unit_limit%>
          <%end%>
        </td>
        <td><%= usage.feature.plan_id %></td>
        <td><%= link_to 'Show Features', usage, class:"btn btn-outline-dark btn-sm" %></td>
        <td><%= link_to 'Edit', edit_usage_path(usage), class:"btn btn-outline-dark btn-sm"  %></td>
    <% end %>
  </tbody>
</table>

<br>
